<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UniversoCraft Portugu√™s</title>
  <style>
    /* Reset simples */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:#05070b;
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }

    /* Canvas de part√≠culas (fundo) */
    canvas#particles{
      position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;
      background: radial-gradient(circle at 30% 20%, #071028 0%, #000 50%);
      display:block;
    }

    /* Nav fixa */
    nav{
      position:fixed;top:0;left:0;width:100%;z-index:5;
      background:rgba(6,10,20,0.6);backdrop-filter:blur(6px);
      border-bottom:1px solid rgba(56,100,255,0.06);
      display:flex;justify-content:center;gap:24px;padding:12px 16px;
    }
    nav a{
      color:#9fc8ff;text-decoration:none;font-weight:600;padding:6px 8px;border-radius:6px;
    }
    nav a.active, nav a:hover{color:#fff;text-shadow:0 0 10px rgba(37,99,235,0.35)}

    /* Conte√∫do central */
    .wrap{max-width:1100px;margin:120px auto 60px;padding:0 20px;position:relative;z-index:3}
    header{ text-align:center;padding:40px 0 20px }
    header h1{font-size:2.8rem;color:#3b82f6;text-shadow:0 6px 24px rgba(37,99,235,0.12)}
    header p{color:#bcd7ff;margin-top:10px}

    .btn{display:inline-block;background:#2563eb;color:#fff;padding:10px 16px;border-radius:10px;text-decoration:none;margin-top:14px;font-weight:700}
    .btn:active{transform:translateY(1px)}

    main section{display:none;padding:36px 0;animation:fadeIn .35s ease}
    main section.active{display:block}
    h2{color:#bfe0ff;margin-bottom:12px}

    /* Server status card */
    .server-status{
      background:linear-gradient(180deg, rgba(20,30,50,0.65), rgba(12,18,30,0.6));
      border:1px solid rgba(37,99,235,0.12);
      padding:18px;border-radius:12px;max-width:720px;margin:12px auto;text-align:center;
      box-shadow:0 6px 24px rgba(2,6,23,0.45)
    }
    .server-status .line{margin:8px 0;font-weight:600}
    .muted{color:#9fb7d9;font-weight:500}

    /* Cards de modos */
    .game-modes{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;margin-top:18px}
    .card{
      background:linear-gradient(180deg, rgba(26,36,58,0.6), rgba(17,24,39,0.6));padding:18px;border-radius:12px;
      border:1px solid rgba(255,255,255,0.03);text-align:center;transition:transform .18s,box-shadow .18s;
    }
    .card:hover{transform:translateY(-6px);box-shadow:0 12px 40px rgba(37,99,235,0.12)}

    /* Iframes */
    .iframe-wrap{width:100%;max-width:900px;margin:16px auto;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.04)}
    .iframe-wrap iframe{display:block;width:100%;height:450px;border:0}

    footer{margin-top:40px;padding:28px 10px;text-align:center;color:#9fb7d9;background:linear-gradient(180deg,transparent,rgba(0,0,0,0.2));border-top:1px solid rgba(255,255,255,0.02)}
    small{color:#9fb7d9}

    @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

    /* Responsividade */
    @media (max-width:720px){
      header h1{font-size:1.9rem}
      .iframe-wrap iframe{height:280px}
      nav{gap:10px;padding:10px}
    }
  </style>
</head>
<body>

  <!-- Fundo de part√≠culas -->
  <canvas id="particles" aria-hidden="true"></canvas>

  <!-- Navega√ß√£o -->
  <nav>
    <a href="#inicio" data-target="inicio" class="active">In√≠cio</a>
    <a href="#servidor" data-target="servidor">Servidor</a>
    <a href="#loja" data-target="loja">Loja</a>
    <a href="#bugs" data-target="bugs">Bugs</a>
    <a href="#discord" data-target="discord">Discord</a>
    <a href="#youtube" data-target="youtube">YouTube</a>
  </nav>

  <div class="wrap">
    <header>
      <h1>üåå UniversoCraft Portugu√™s</h1>
      <p>IP do servidor: <strong>mc.universocraft.com</strong></p>
      <a class="btn" href="#" id="playBtn">üéÆ Jogar Agora ‚Äî Copiar IP</a>
    </header>

    <main>
      <!-- IN√çCIO -->
      <section id="inicio" class="active">
        <h2>Bem-vindo ao UniversoCraft</h2>
        <p class="muted">Comunidade, eventos, minijogos e uma comunidade portuguesa gigante. Junta-te j√°!</p>

        <div class="server-status" id="serverStatus">‚è≥ A carregar status do servidor...</div>
      </section>

      <!-- SERVIDOR -->
      <section id="servidor">
        <h2>Modos de Jogo</h2>
        <div class="game-modes">
          <div class="card"><h3>‚öîÔ∏è SkyWars</h3><p class="muted">Batalhas r√°pidas em ilhas flutuantes ‚Äî √∫ltimo a ficar de p√© vence.</p></div>
          <div class="card"><h3>üõèÔ∏è BedWars</h3><p class="muted">Protege a tua cama, destr√≥i a dos outros e conquista a vit√≥ria colectiva.</p></div>
          <div class="card"><h3>üåç Survival</h3><p class="muted">Sobrevive, constr√≥i e explora ‚Äî servidor persistente e activo.</p></div>
          <div class="card"><h3>üèπ Practice</h3><p class="muted">Treina PvP e melhore tua mec√¢nica em arenas dedicadas.</p></div>
        </div>

        <div style="max-width:760px;margin:18px auto;text-align:center">
          <a class="btn" href="https://www.universocraft.com" target="_blank" rel="noopener">Visitar site oficial</a>
        </div>
      </section>

      <!-- LOJA -->
      <section id="loja">
        <h2>üõí Loja Oficial</h2>
        <p class="muted">üéâ <strong>Bem-vindo √† Loja do UniversoCraft!</strong> ü™ê</p>
        <p>üõí Compra <strong>VIPs</strong>, <strong>Boosters</strong>, <strong>√çcones</strong> e <strong>Tags</strong>. Pagamentos seguros via Tebex.</p>
        <div style="text-align:center;margin-top:12px"><a class="btn" href="https://tienda.universocraft.com" target="_blank" rel="noopener">Aceder √† Loja</a></div>
      </section>

      <!-- BUGS -->
      <section id="bugs">
        <h2>üõ†Ô∏è Reportar Bugs</h2>
        <p class="muted">Encontrou um bug? Reporta no f√≥rum com o m√°ximo de detalhes.</p>
        <div style="text-align:center;margin-top:12px"><a class="btn" href="https://www.universocraft.com/forums/errores-y-bugs/" target="_blank" rel="noopener">Reportar Bug</a></div>
      </section>

      <!-- DISCORD -->
      <section id="discord">
        <h2>üí¨ Discord Oficial</h2>
        <p class="muted">Entra na comunidade, fala com staff e participa dos eventos.</p>

        <div class="iframe-wrap" style="height:520px;">
          <!-- Widget do Discord -->
          <iframe src="https://discord.com/widget?id=1438486171452969024&theme=dark"
                  title="Widget Discord UniversoCraft"
                  sandbox="allow-same-origin allow-scripts allow-popups"
                  loading="lazy"></iframe>
        </div>
      </section>

      <!-- YOUTUBE -->
      <section id="youtube">
        <h2>üé• Canal YouTube ‚Äî SpaceCommunity</h2>
        <p class="muted">V√≠deos e highlights da comunidade e eventos.</p>

        <div class="iframe-wrap" style="height:450px;">
          <!-- Embed do v√≠deo que pediste (copiado exactamente, mas adaptado para responsividade) -->
          <iframe width="100%" height="100%"
                  src="https://www.youtube.com/embed/fjhv1NE-s1w?si=9i-MnqK4gsBINm2N"
                  title="YouTube video player"
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  referrerpolicy="strict-origin-when-cross-origin"
                  allowfullscreen
                  loading="lazy"></iframe>
        </div>

        <div style="text-align:center;margin-top:12px">
          <a class="btn" href="https://www.youtube.com/@SpaceCommunity-i2z" target="_blank" rel="noopener">Visitar Canal</a>
        </div>
      </section>

    </main>

    <footer>
      <small>¬© 2025 UniversoCraft Portugu√™s ‚Äî Site criado por f√£s. N√£o oficial.</small>
    </footer>
  </div>

  <script>
    /***********************
     Navega√ß√£o (sem reload)
    ************************/
    (function(){
      const links = document.querySelectorAll('nav a');
      function setActive(targetId){
        // classes nav
        links.forEach(a=> a.classList.toggle('active', a.dataset.target === targetId));
        // sections
        document.querySelectorAll('main section').forEach(s=>{
          s.id === targetId ? s.classList.add('active') : s.classList.remove('active');
        });
        window.scrollTo({top:80,behavior:'smooth'});
      }
      // Init click handlers
      links.forEach(a=>{
        a.addEventListener('click', function(e){
          e.preventDefault();
          setActive(this.dataset.target);
        });
      });
      // Initialize from hash if present
      const initial = location.hash.replace('#','');
      if(initial){
        const exists = document.getElementById(initial);
        if(exists) setActive(initial);
      }
    })();

    /***********************
     Copiar IP (Jogar Agora)
    ************************/
    document.getElementById('playBtn').addEventListener('click', function(e){
      e.preventDefault();
      const ip = 'mc.universocraft.com';
      if(navigator.clipboard && window.isSecureContext){
        navigator.clipboard.writeText(ip).then(()=> {
          alert('IP copiado: ' + ip);
        }).catch(()=> {
          prompt('Copia o IP manually:', ip);
        });
      } else {
        // Fallback
        const ta = document.createElement('textarea');
        ta.value = ip; document.body.appendChild(ta); ta.select();
        try{document.execCommand('copy'); alert('IP copiado: ' + ip);}catch(err){prompt('Copia o IP manualmente:', ip)}
        document.body.removeChild(ta);
      }
    });

    /***********************
     Status do servidor (resiliente)
     usa https://api.mcsrvstat.us/2/<host>
    ************************/
    async function loadServerStatus(){
      const el = document.getElementById('serverStatus');
      el.textContent = '‚è≥ A carregar status do servidor...';
      try{
        const res = await fetch('https://api.mcsrvstat.us/2/mc.universocraft.com', {cache: 'no-store'});
        if(!res.ok) throw new Error('Resposta n√£o OK: ' + res.status);
        const data = await res.json();

        if(data?.online){
          // seguran√ßa: players pode n√£o existir
          const playersOnline = data.players?.online ?? 0;
          const playersMax = data.players?.max ?? '‚Äî';
          const version = data.version ?? 'Desconhecida';
          // motd pode ser array ou object
          let motd = '';
          if(Array.isArray(data.motd?.clean)) motd = data.motd.clean.join(' | ');
          else if(typeof data.motd?.clean === 'string') motd = data.motd.clean;
          motd = motd || '';

          // ping info: a API mcsrvstat tem um campo "debug" mas pode n√£o existir
          const pingInfo = (data.debug && data.debug.ping) ? 'Est√°vel' : 'Indispon√≠vel';

          el.innerHTML = `
            üü¢ <strong>Servidor Online</strong>
            <div class="line">Jogadores: <strong>${playersOnline}</strong> / ${playersMax}</div>
            <div class="line">Vers√£o: <strong>${version}</strong></div>
            <div class="line">Ping: <strong>${pingInfo}</strong></div>
            ${motd ? `<div class="line"><span class="muted">${escapeHtml(motd)}</span></div>` : ''}
          `;
        } else {
          el.innerHTML = 'üî¥ <strong>Servidor Offline</strong>';
        }
      }catch(err){
        console.error('Erro ao carregar status do servidor:', err);
        el.innerHTML = '‚ö†Ô∏è N√£o foi poss√≠vel obter o status do servidor neste momento.';
      }
    }

    // pequeno escape para evitar HTML injection via motd
    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, function(m){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]); });
    }

    loadServerStatus(); // carrega no inicio

    /***********************
     Part√≠culas simples (leves) - prote√ß√µes incluidas
    ************************/
    (function(){
      const canvas = document.getElementById('particles');
      if(!canvas) return;
      const ctx = canvas.getContext && canvas.getContext('2d');
      if(!ctx) return;

      let w = canvas.width = innerWidth;
      let h = canvas.height = innerHeight;
      let particles = [];
      const COUNT = Math.min(140, Math.floor((w*h)/10000)); // reduz dinamicamente

      function onResize(){
        w = canvas.width = innerWidth;
        h = canvas.height = innerHeight;
        initParticles();
      }
      addEventListener('resize', debounce(onResize, 120));

      function rnd(min,max){ return Math.random()*(max-min)+min; }

      function initParticles(){
        particles = [];
        for(let i=0;i<COUNT;i++){
          particles.push({
            x: rnd(0,w),
            y: rnd(0,h),
            r: rnd(0.4,1.8),
            vy: rnd(0.15,0.6),
            alpha: rnd(0.18,0.9)
          });
        }
      }
      initParticles();

      function step(){
        ctx.clearRect(0,0,w,h);
        for(const p of particles){
          p.y += p.vy;
          if(p.y - p.r > h) p.y = -p.r;
          ctx.beginPath();
          ctx.fillStyle = `rgba(96,165,250,${p.alpha})`;
          ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
          ctx.fill();
        }
        requestAnimationFrame(step);
      }
      step();

      // util
      function debounce(fn, wait){ let t; return function(){ clearTimeout(t); t=setTimeout(fn,wait); } }
    })();
  </script>
</body>
</html>
